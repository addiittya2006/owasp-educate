<h1 align="center">Listing Feedback questions</h1>

<%= link_to 'Add Feedback Question', new_question_path, class: "btn btn-lg btn-block" %>

<% if flash[:alert] %>
    <div class="alert alert-danger">
      <strong>Alert!</strong> <%= flash[:alert] %>
    </div>
<% elsif flash[:notice] %>
    <div class=" alert alert-info">
      <strong>Alert!</strong> <%= flash[:notice] %>
    </div>
<% end %>

<table class="table table-hover">
  <thead>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th colspan="3">Upvotes</th>
    <th colspan="2">Links</th>
  </tr>
  </thead>

  <tbody>
  <% @questions.each do |question| %>
      <tr>
        <td><%= question.title %></td>
        <td><%= question.description %></td>
        <td><%= question.upvotes.nil? ? 0 : question.upvotes %></td>
        <td><%= link_to 'Upvote', question_upvote_path(question), method: :put, class: "btn btn-primary"%></td>
        <td><%= link_to 'Downvote', question_downvote_path(question) , method: :put, class: "btn btn-primary" %></td>
        <td><%= link_to 'Edit', edit_question_path(question) %></td>
        <% if can? :destroy, question %>
            <td><%= link_to 'Solved', question, method: :delete, data: { confirm: 'Are you sure this issue is resolved?' } %></td>
        <% end %>
      </tr>
  <% end %>
  </tbody>
</table>